(this["webpackJsonpball-pit-1"]=this["webpackJsonpball-pit-1"]||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/cross.00397b42.jpg"},35:function(e,t,n){e.exports=n.p+"static/media/ping.e49c4b6b.mp3"},47:function(e,t,n){e.exports=n(59)},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(22),o=n.n(a),r=n(1),c=n.n(r),i=n(8),l=n(60),s=n(6),u=n(0),m=n(18),f=n.n(m),h=n(34),p=n.n(h),g=n(27),E=n(21),d=n(36),w=n(35),b=n.n(w),v=n(46),S=new Audio(b.a),y=Object(d.a)((function(e){return{count:0,welcome:!0,api:{pong(t){S.currentTime=0,S.volume=Object(v.a)(t/20,0,1),S.play(),t>4&&e((function(e){return{count:e.count+1}}))},reset:function(t){return e((function(e){return localStorage.setItem("highscore",e.count),{welcome:t,count:t?e.count:0}}))}}}})),j=Object(i.a)(y,1)[0],I=c.a.forwardRef((function(e,t){var n=Object(s.g)(g.a,"/glsl-demo/pingpong.glb"),a=n.nodes,o=n.materials,r=j((function(e){return e.count}));return c.a.createElement("mesh",{castShadow:!0,ref:t,dispose:null},c.a.createElement("group",{ref:e.model,position:[-.05,.37,.3],scale:[.15,.15,.15]},c.a.createElement(E.a,{font:"https://fonts.gstatic.com/s/notosans/v7/o-0IIpQlx3QUlC5A4PNr5TRG.woff",rotation:[-Math.PI/2,0,0],position:[0,1,-.5],fontSize:12},r.toString()),c.a.createElement("group",{rotation:[1.88,-.35,2.32],scale:[2.97,2.97,2.97]},c.a.createElement("primitive",{object:a.Bone}),c.a.createElement("primitive",{object:a.Bone003}),c.a.createElement("primitive",{object:a.Bone006}),c.a.createElement("primitive",{object:a.Bone010}),c.a.createElement("skinnedMesh",{castShadow:!0,receiveShadow:!0,material:o.glove,"material-roughness":1,geometry:a.arm.geometry,skeleton:a.arm.skeleton})),c.a.createElement("group",{rotation:[0,-.04,0],scale:[141.94,141.94,141.94]},c.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,material:o.wood,geometry:a.mesh_0.geometry}),c.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,material:o.side,geometry:a.mesh_1.geometry}),c.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,material:o.foam,geometry:a.mesh_2.geometry}),c.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,material:o.lower,geometry:a.mesh_3.geometry}),c.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,material:o.upper,geometry:a.mesh_4.geometry}))))})),x=n(29),O=n(9);function P(){j((function(e){return e.welcome}));return c.a.createElement(r.Suspense,{fallback:null},c.a.createElement(x.a,null,c.a.createElement(x.c,null),c.a.createElement(x.b,{opacity:.15,premultiply:!0,blendFunction:O.a.ADD})))}var M=function(){var e=Object(r.useRef)([0,0,0]),t=function(t){e.current[0]=t.clientX/window.innerWidth-.5,e.current[1]=1-t.clientY/window.innerHeight+5};c.a.useEffect((function(){document.addEventListener("mousemove",t)})),Object(s.f)((function(t){var n=t.camera;n.position.x=f()(n.position.x,e.current[0],.1),n.position.y=f()(n.position.y,e.current[1],.1)}),1);var n=localStorage.getItem("highscore");return c.a.createElement(r.Suspense,{fallback:null},c.a.createElement(E.a,{color:"#000",font:"https://fonts.gstatic.com/s/notosans/v7/o-0IIpQlx3QUlC5A4PNr5TRG.woff",position:[0,2,-6],fontSize:1.25,fontWeight:600,rotation:[-Math.PI/8,0,0]},"Welcome to pong!"),c.a.createElement(E.a,{color:"#000",font:"https://fonts.gstatic.com/s/notosans/v7/o-0IIpQlx3QUlC5A4PNr5TRG.woff",position:[0,.5,-6],fontSize:.5,fontWeight:600,rotation:[-Math.PI/8,0,0]},"Click anywhere to start"),c.a.createElement(E.a,{color:"#000",font:"https://fonts.gstatic.com/s/notosans/v7/o-0IIpQlx3QUlC5A4PNr5TRG.woff",position:[0,-10,-6],rotation:[-Math.PI/8,0,0],fontSize:.5,fontWeight:600},"Highscore: ",n))},C=function(e){var t=j((function(e){return e.welcome})),n=j((function(e){return e.api})).reset,a=Object(r.useCallback)((function(){return t&&n(!1)}),[t,n]);return c.a.createElement(s.a,{sRGB:!0,camera:{position:[0,5,12],fov:50},onClick:a,concurrent:!0,shadowMap:!0,gl:{powerPreference:"high-performance",alpha:!1,antialias:!0}},t&&c.a.createElement(M,null),e.children)};function R(){var e=j((function(e){return e.api})).pong,t=j((function(e){return e.welcome})),n=Object(r.useRef)(),a=Object(l.c)((function(){return{type:"Kinematic",args:[3.4,1,3.5],onCollide:function(t){return e(t.contact.impactVelocity)}}})),o=Object(i.a)(a,2),u=o[0],m=o[1],h=Object(r.useRef)([0,0]);return Object(s.f)((function(e){h.current[0]=f()(h.current[0],e.mouse.x*Math.PI/5,.2),h.current[1]=f()(h.current[1],e.mouse.x*Math.PI/5,.2),m.position.set(10*e.mouse.x,5*e.mouse.y,0),m.rotation.set(0,0,h.current[1]),n.current.rotation.x=f()(n.current.rotation.x,t?Math.PI/2:0,.2),n.current.rotation.y=h.current[0]})),c.a.createElement(I,{ref:u,model:n})}function k(){var e=Object(s.g)(u.TextureLoader,p.a),t=Object(l.e)((function(){return{mass:1,args:.5,position:[0,5,0]}})),n=Object(i.a)(t,1)[0];return c.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,ref:n},c.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[.5,64,64]}),c.a.createElement("meshPhysicalMaterial",{color:"#FF9900",map:e,clearcoat:1,clearcoatRoughness:0}))}function B(){return c.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,position:[0,0,-10]},c.a.createElement("planeBufferGeometry",{attach:"geometry",args:[1e3,1e3]}),c.a.createElement("meshBasicMaterial",{color:"#C4F2CA"}))}function Q(){var e=j((function(e){return e.api})).reset,t=Object(l.f)((function(){return{type:"Static",rotation:[-Math.PI/2,0,0],position:[0,-10,0],onCollide:function(){return e(!0)}}})),n=Object(i.a)(t,1)[0];return c.a.createElement("mesh",{ref:n})}var A=function(){var e=j((function(e){return e.welcome}));return c.a.createElement(C,null,c.a.createElement(P,null),c.a.createElement("ambientLight",{intensity:.5}),c.a.createElement("pointLight",{position:[-10,-10,-10]}),c.a.createElement("spotLight",{position:[10,10,10],angle:.3,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-bias":-1e-4}),c.a.createElement("directionalLight",{position:[-10,-10,-5],intensity:.5}),c.a.createElement(l.a,{iterations:20,tolerance:1e-4,defaultContactMaterial:{friction:.9,restitution:.6,contactEquationStiffness:1e7,contactEquationRelaxation:1,frictionEquationStiffness:1e7,frictionEquationRelaxation:2},gravity:[0,-40,0],allowSleep:!1},c.a.createElement(B,null),c.a.createElement(Q,null),!e&&c.a.createElement(k,null),c.a.createElement(r.Suspense,{fallback:null},c.a.createElement(R,null))))};n(58);o.a.render(c.a.createElement(A,null),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.9baf5169.chunk.js.map